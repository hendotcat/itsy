import React from "react"
import ReactDOM from "react-dom"
import { Provider } from "react-redux"

import Graphics from "@itsy.studio/graphics/components/graphics"
import store from "@itsy.studio/graphics/store"
import { importSpritesheet } from "@itsy.studio/graphics/store/spritesheet"
import { startWebview } from "@itsy.studio/graphics/store/webview"

const root = document.createElement("div")
document.body.appendChild(root)
document.body.style.margin = "0"

const graphics = (
  <Provider store={store}>
    <Graphics />
  </Provider>
)

document.addEventListener("DOMContentLoaded", () => {
  store.dispatch<any>(startWebview())

  store.dispatch<any>(
    importSpritesheet(
      "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"
    )
  )
})

ReactDOM.render(graphics, root)
